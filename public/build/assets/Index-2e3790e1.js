import{o as c,d,F as _,g as f,a as e,t as u,j as x,s as M,x as v,T as y,O as m,y as b,c as w,w as g,b as p,u as $}from"./app-4e17ed0d.js";import{A as C}from"./AppLayout-c0c952ff.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import"./NavLink-ae07b30c.js";const k={name:"ChartMessages",props:["messages"]},F={class:"chat"},B={class:"clearfix"},O={class:"header"};function j(i,t,n,o,r,a){return c(),d("ul",F,[(c(!0),d(_,null,f(n.messages,s=>(c(),d("li",{class:"left clearfix",key:s.id},[e("div",B,[e("div",O,[e("strong",null,u(s.user.name),1)]),e("p",null,u(s.message),1)])]))),128))])}const A=h(k,[["render",j]]),P={name:"ChartForm",props:["user"],data(){return{newMessage:""}},methods:{sendMessage(){this.$emit("messagesent",{user:this.user,message:this.newMessage}),this.newMessage=""}}},S={class:"input-group"},T={class:"input-group-btn"};function V(i,t,n,o,r,a){return c(),d("div",S,[x(e("input",{id:"btn-input",type:"text",name:"message",class:"form-control input-sm",placeholder:"Type your message here...","onUpdate:modelValue":t[0]||(t[0]=s=>r.newMessage=s),onKeyup:t[1]||(t[1]=v((...s)=>a.sendMessage&&a.sendMessage(...s),["enter"]))},null,544),[[M,r.newMessage]]),e("span",T,[e("button",{class:"btn btn-primary btn-sm",id:"btn-chat",onClick:t[2]||(t[2]=(...s)=>a.sendMessage&&a.sendMessage(...s))}," Send ")])])}const D=h(P,[["render",V]]),E=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Purposes ",-1),K={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},L={class:"container"},N={class:"card"},I=e("div",{class:"card-header"},"Chats",-1),U={class:"card-body"},q={class:"card-footer"},Q={__name:"Index",props:{user:Object,messages:Array,echo:Object},setup(i){let n=i.messages;const o=y({message:""});m.on("onMounted",s=>{r(),Echo.private("private-meeting-chat").listen(".meeting-chat",l=>{console.log("this is the test"),n.push({message:l.message.message,user:l.user})})}),b(()=>{Pusher.log=function(s){console.log(s)}});const r=()=>{m.get("/messages")},a=s=>{o.message=s.message,o.post(route("send-message"),{preserveScroll:!0,onFinish:()=>o.reset()})};return(s,l)=>(c(),w(C,{title:"Purposes"},{header:g(()=>[E]),default:g(()=>[e("div",null,[e("div",K,[e("div",L,[e("div",N,[I,e("div",U,[p(A,{messages:$(n)},null,8,["messages"])]),e("div",q,[p(D,{onMessagesent:a,user:i.user},null,8,["user"])])])])])])]),_:1}))}};export{Q as default};
