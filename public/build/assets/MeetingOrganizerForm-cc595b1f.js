import{r as _,T as O,p as C,o as l,c as x,w as o,f as n,a as t,d as m,g as k,b as i,t as f,u as s,l as g,e as y,F as z,j as p,C as h,v as M,k as D,n as U}from"./app-4e17ed0d.js";import"./moment-fbc5633a.js";import{_ as B}from"./ActionMessage-1ace2136.js";import{_ as j}from"./ActionSection-538b0a6c.js";import{_ as A}from"./Checkbox-638aecb4.js";import{S as F}from"./SectionBorder-b125e4a7.js";import{_ as b,a as N}from"./TextInput-797e3e17.js";import{_ as w}from"./InputLabel-31b28399.js";import{_ as P}from"./PartialFormSection-ff242a5a.js";import{_ as T}from"./PrimaryButton-bcbf0fc5.js";import{D as E}from"./DeleteButton-5b30ceaa.js";import"./SectionTitle-c009be10.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                     */const L={class:"w-full text-sm text-gray-600"},Y={class:"w-full whitespace-nowrap"},q=t("thead",null,[t("tr",{class:"text-left font-bold"},[t("th",{class:"pb-4 pt-6 px-6"},"Organizer"),t("th",{class:"pb-4 pt-6 px-6"},"Title"),t("th",{class:"pb-4 pt-6 px-6"},"Primary?")])],-1),G={class:"border-t"},H={class:"border-t"},I={class:"border-t"},J={class:"border-t"},K={class:"col-span-6 sm:col-span-4"},Q=["error"],R=["value"],W={class:"block mt-4"},X={class:"flex items-center"},Z=t("span",{class:"ml-2 text-sm text-gray-600"},"Primary",-1),ee={class:"col-span-6 sm:col-span-4"},te={key:0},se={class:"text-sm mt-2"},re={class:"mt-2 font-medium text-sm text-green-600"},be={__name:"MeetingOrganizerForm",props:{users:Array,user:Object,sessions:Array,organizers:Array,meeting:Object,can:Object},setup(d){const v=d;_(!1);const u=_(!1);_(!1),_(null);const r=O({id:null,title:null,primary:!1,organizer_id:null,organizable_type:"Meeting",meeting_id:v.meeting.id}),V=()=>{r.post(route("organizers.store"),{preserveScroll:!0,onSuccess:()=>r.reset()})},S=()=>u.value=!u.value,$=c=>{r.delete(route("organizers.destroy",c),{preserveScroll:!0})};return C(()=>{switch(v.meeting.status){case 1:return"UnPublished";case 2:return"Published";case 3:return"Progress";case 4:return"Closed"}}),(c,a)=>(l(),x(j,null,{title:o(()=>[n(" Organizers ")]),description:o(()=>[n(" Manage Organizers ")]),content:o(()=>[t("div",L,[t("table",Y,[q,t("tbody",null,[(l(!0),m(z,null,k(d.organizers,e=>(l(),m("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",G,[i(s(g),{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/organizers/${e.id}`},{default:o(()=>[n(f(e.first_name)+" "+f(e.last_name),1)]),_:2},1032,["href"])]),t("td",H,[i(s(g),{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/organizers/${e.id}`},{default:o(()=>[n(f(e.designation),1)]),_:2},1032,["href"])]),t("td",I,[i(s(g),{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/organizers/${e.id}`},{default:o(()=>[n(f(e.primary?"Yes":"No"),1)]),_:2},1032,["href"])]),t("td",J,[d.can.organize_meeting?(l(),x(E,{key:0,onDelete:ie=>$(`${e.id}`)},{default:o(()=>[n("Delete")]),_:2},1032,["onDelete"])):y("",!0)])]))),128))])])]),d.can.organize_meeting?(l(),m("button",{key:0,class:"flex items-center px-6 py-4 focus:text-indigo-500",onClick:S},[p(t("p",null,"Add Meeting Organizer",512),[[h,!u.value]]),p(t("p",null,"Close Meeting Organizer",512),[[h,u.value]])])):y("",!0),i(F),p(t("div",null,[i(P,{onSubmitted:V},{form:o(()=>[t("div",K,[i(w,{for:"user_id",value:"Select user"}),p(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>s(r).organizer_id=e),error:s(r).errors.organizer_id,class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",label:"User",required:""},[(l(!0),m(z,null,k(d.users,e=>(l(),m("option",{key:e.id,value:e.id},f(e.first_name+" "+e.last_name),9,R))),128))],8,Q),[[M,s(r).organizer_id]])]),t("div",W,[t("label",X,[i(A,{checked:s(r).primary,"onUpdate:checked":a[1]||(a[1]=e=>s(r).primary=e),name:"primary"},null,8,["checked"]),Z])]),i(b,{id:"meeting_id",modelValue:s(r).meeting_id,"onUpdate:modelValue":a[2]||(a[2]=e=>s(r).meeting_id=e),type:"hidden"},null,8,["modelValue"]),i(b,{id:"organizable_type",modelValue:s(r).organizable_type,"onUpdate:modelValue":a[3]||(a[3]=e=>s(r).organizable_type=e),type:"hidden"},null,8,["modelValue"]),t("div",ee,[i(w,{for:"title",value:"Title"}),i(b,{id:"title",modelValue:s(r).title,"onUpdate:modelValue":a[4]||(a[4]=e=>s(r).title=e),type:"text",class:"mt-1 block w-full",autocomplete:"title"},null,8,["modelValue"]),i(N,{message:s(r).errors.title,class:"mt-2"},null,8,["message"]),c.$page.props.jetstream.hasEmailVerification&&d.user.email_verified_at===null?(l(),m("div",te,[t("p",se,[n(" Your email address is unverified. "),i(s(g),{href:c.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:D(c.sendEmailVerification,["prevent"])},{default:o(()=>[n(" Click here to re-send the verification email. ")]),_:1},8,["href","onClick"])]),p(t("div",re," A new verification link has been sent to your email address. ",512),[[h,c.verificationLinkSent]])])):y("",!0)])]),actions:o(()=>[i(B,{on:s(r).recentlySuccessful,class:"mr-3"},{default:o(()=>[n(" Saved. ")]),_:1},8,["on"]),i(T,{class:U({"opacity-25":s(r).processing}),disabled:s(r).processing},{default:o(()=>[n(" Save ")]),_:1},8,["class","disabled"])]),_:1})],512),[[h,u.value]])]),_:1}))}};export{be as default};
