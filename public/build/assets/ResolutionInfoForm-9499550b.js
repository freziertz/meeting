import{r as v,k as j,T as S,o as d,c as A,w as s,f as e,a as t,b as r,t as i,u as c,d as m,g as E,j as a,F as M,e as V,D as u}from"./app-af9f5e7a.js";import{h as $}from"./moment-fbc5633a.js";import{_}from"./ActionMessage-528c4072.js";import{_ as B}from"./ActionSection-d51cd06d.js";import{_ as f}from"./PrimaryButton-8ca7cfae.js";import{_ as k}from"./NotificationButton-ae2cec6c.js";import{_ as x}from"./EditButtonLink-cabf599d.js";/* empty css                                                     */import"./SectionTitle-0bf8328a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y={class:"flex space-x-2 mb-2 justify-end"},F={class:"w-full text-sm text-gray-600"},T={class:"w-full whitespace-nowrap"},U={class:"hover:bg-gray-100 focus-within:bg-gray-100"},I=t("td",{class:"border-t p-2"}," Subject ",-1),z={class:"border-t p-2"},L={class:"hover:bg-gray-100 focus-within:bg-gray-100"},O=t("td",{class:"border-t p-2"}," Notes to Voters ",-1),q={class:"border-t p-2"},G={class:"hover:bg-gray-100 focus-within:bg-gray-100"},H=t("td",{class:"border-t p-2"}," Resolution Schedule ",-1),J={class:"border-t p-2"},K={class:"border-t p-2"},Q={class:"border-t p-2"},W={class:"border-t p-2"},X={class:"hover:bg-gray-100 focus-within:bg-gray-100"},Z=t("td",{class:"border-t p-2"}," Status ",-1),tt={class:"border-t p-2"},st={key:0},et=t("td",{class:"px-6 py-4 border-t",colspan:"4"},"No resolutions found.",-1),ot=[et],rt={class:"flex items-center mt-5"},nt={class:"flex items-center mt-5"},lt={class:"flex items-center mt-5"},it={class:"flex items-center mt-5"},yt={__name:"ResolutionInfoForm",props:{sessions:Array,resolution:Object,users:Array,organizers:Array,schedules:Array,notifications:Array},setup(l){const n=l;v(!1),v(null);const h=j(()=>{switch(n.resolution.status){case 1:return"UnPublished";case 2:return"Published";case 3:return"Progress";case 4:return"Closed"}}),o=S({_method:"PUT",id:n.resolution.id,status:n.resolution.status}),p=S({}),R=()=>{o.status=2,o.post(route("resolution.status",n.resolution.id),{preserveScroll:!0})},C=()=>{o.status=3,o.post(route("resolution.status",n.resolution.id),{preserveScroll:!0})},w=()=>{o.status=4,o.post(route("resolution.status",n.resolution.id),{preserveScroll:!0})},D=()=>{o.status=1,o.post(route("resolution.status",n.resolution.id),{preserveScroll:!0})},N=()=>{p.get(route("next-resolution",n.resolution.id),{preserveScroll:!0})},P=()=>{p.get(route("resolutions.edit",n.resolution.id),{preserveScroll:!0})};return(b,ct)=>(d(),A(B,null,{title:s(()=>[e(" Resolution Info ")]),description:s(()=>[]),content:s(()=>[t("div",Y,[r(k,{onClick:N},{default:s(()=>[e(" Schedule Next Resolution ")]),_:1}),r(x,{onClick:b.exportDraftMinutes},{default:s(()=>[e(" Export ")]),_:1},8,["onClick"]),r(k,{onClick:b.sendExportResolutionPack},{default:s(()=>[e(" Send ")]),_:1},8,["onClick"]),r(x,{onClick:P},{default:s(()=>[e(" Edit ")]),_:1})]),t("div",F,[t("table",T,[t("tbody",null,[t("tr",U,[I,t("td",z,i(l.resolution.subject),1)]),t("tr",L,[O,t("td",q,i(l.resolution.notes_to_voters),1)]),t("tr",G,[H,t("td",J,i(c($)(l.resolution.voting_deadline).format("dddd, MMMM DD, YYYY")),1)]),(d(!0),m(M,null,E(l.notifications,(g,y)=>(d(),m("tr",{key:g.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[a(t("td",K," Reminder ",512),[[u,y==0]]),a(t("td",Q,null,512),[[u,y!=0]]),t("td",W,i(g.notification_date),1)]))),128)),t("tr",X,[Z,t("td",tt,i(l.resolution.status),1)]),l.resolution.length===0?(d(),m("tr",st,ot)):V("",!0)])])]),a(t("div",rt,[r(f,{onClick:R},{default:s(()=>[e(" Circulate ")]),_:1}),r(_,{on:c(o).recentlySuccessful,class:"ml-3"},{default:s(()=>[e(" Done. ")]),_:1},8,["on"])],512),[[u,h.value==="UnPublished"]]),a(t("div",nt,[r(f,{onClick:C},{default:s(()=>[e(" Start Resolution ")]),_:1}),r(_,{on:c(o).recentlySuccessful,class:"ml-3"},{default:s(()=>[e(" Done. ")]),_:1},8,["on"])],512),[[u,h.value==="Published"]]),a(t("div",lt,[r(f,{onClick:w},{default:s(()=>[e(" Close Resolution ")]),_:1}),r(_,{on:c(o).recentlySuccessful,class:"ml-3"},{default:s(()=>[e(" Done. ")]),_:1},8,["on"])],512),[[u,h.value==="Progress"]]),t("div",it,[r(f,{onClick:D},{default:s(()=>[e(" Reset Resolution ")]),_:1}),r(_,{on:c(o).recentlySuccessful,class:"ml-3"},{default:s(()=>[e(" Done. ")]),_:1},8,["on"])])]),_:1}))}};export{yt as default};
